<!DOCTYPE html>
<html lang="en" data-ng-app="listPage">
	<head>
        <meta charset="UTF-8">
        <title>Locations</title>
        <link rel="shortcut icon" href="/_assets/gfx/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/_assets/gfx/favicon.ico" type="image/x-icon">

        <link rel="import" href="/bower_components/iron-icons/iron-icons.html"/>
        <link rel="import" href="/bower_components/paper-fab/paper-fab.html"/>
        <link rel="import" href="/bower_components/paper-material/paper-material.html"/>
        <link rel="import" href="/bower_components/paper-toast/paper-toast.html"/>
        <link rel="import" href="/bower_components/paper-button/paper-button.html"/>
        <link rel="import" href="/bower_components/google-map/google-map.html"/>

        <!-- Basic Google Analytics -->
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-70358349-3', 'auto');
            ga('send', 'pageview');

        </script>


        <script src="/bower_components/arg.js/dist/arg-1.3.min.js"></script>
        <script src="/bower_components/angular/angular.min.js"></script>
        <script src="/bower_components/angular-route/angular-route.min.js"></script>
        <script src="/bower_components/angular-click-outside/clickoutside.directive.js"></script>

        <script src="/app/shared/location/location-services.js"></script>
        <script src="/app/shared/location/location-card-directives.js"></script>
        <script src="/app/shared/location/location.js"></script>
        <script src="/app/list-page/list-page.js"></script>

		<style is="custom-style">
			html, body {
                width: 100%;
                height: 100%;
                margin: 0;
                overflow: hidden;
                font-family: 'Roboto', 'Noto', sans-serif;
			}

			/* Header */

			/* List styles */
			::-webkit-scrollbar {
			    width: 5px;
			}
			::-webkit-scrollbar-thumb {
                background: rgba(96, 125, 139,0.7);
                border-radius: 25px;
                box-shadow: inset 0px 1px 1px 1px rgba(38, 50, 56, 0.1);
			}
			::-webkit-scrollbar-thumb:hover {
			    background: rgba(96, 125, 139,0.9);
			}
			::-webkit-scrollbar-thumb:active {
			    background: rgba(38, 50, 56,0.9);
			}
			::-webkit-scrollbar-track {
                background: rgba(176, 190, 197,0.5);
                border-radius: 25px;
			}
			::-webkit-scrollbar-track:hover {
			    background: rgba(176, 190, 197,0.9);
			}

			#locations {
                position: absolute;
                left: 2%;
                top: 24px;
                width: calc(350px + 15%);
                overflow: hidden;
			}
			#locations #list {
                margin-top: 16px;
                padding-right:10px;
                float: right;
                height:800px;
                overflow-y: auto;
                overflow-x: hidden;
			}
			#location .listContainer {
                max-height: 100%;
                box-sizing: border-box;
			}
			#locations .listContainer > * {
                display: block;
			}

			#search {
                width: 100%;
                margin-bottom: 16px;
			}
			#search .locationFilter {
                margin-top: 16px;
                width: calc(100% - 350px - 16px);
                height: auto;
                background: white;
                float: left;
			}

			.locationCard {
                width: 350px;
                margin-bottom: 16px;
			}

			/* Action styles */
			#actions {
                width: 64px;
                height: 64px;
                position: absolute;
                right: 24px;
                bottom: 24px;
			}
			#actions paper-fab {
                height: 100%;
                width: 100%;
                margin: 0 auto;
			}

			/* Add styles */
			#add {
                position: absolute;
                top: 24px;
                left: 16px;
                width: 500px;
                height: auto;
			}

            /* Header styles*/
            #header {
                width:300px;
                height: 92px;
                position: absolute;
                top:24px;
                right: 2%;
                background: none;
            }
            #header > div {
                height:100%;
                display: inline-block;
                text-align: center;
            }
            #headImg {
                width:220px;
                float: right;
            }
            #headHome {
                width: 80px;
                float: left;
            }
            #header img {
                margin: 0 auto;
                position: relative;
                top: 50%;
                transform: translateY(-50%);
            }
            #header a:hover {
                opacity: .7;
            }

            /* Error toasts */
            .yellow-button {
                text-transform: none;
                color: #eeff41;
            }

		</style>
	</head>

	<body ng-controller="ListPageController as listPageCtrl">

        <google-map disable-default-ui api-key="AIzaSyAbH91Y_ikGOeXR5rupXe1ARQzxLuvw7SE">
            <div id="header">
                <div id="headHome">
                    <a href="/"><img src="/_assets/gfx/home.png"></a>
                </div>
                <div id="headImg">
                    <a href="http://www.vets4warriors.com" target="_blank"><img src="/_assets/gfx/logo.png"></a>
                </div>
            </div>

            <section id="locations" ng-show="!listPageCtrl.isAdding" ng-controller="LocationsController as locCtrl">
                <!-- Search box -->
                <location-search-box id="search" ng-focus></location-search-box>
                <!-- Results -->
                <article class="listContainer" id="list" >
                    <location-card ng-repeat="location in locations track by location.id"></location-card>

                    <!-- Won't center :( -->
                    <paper-toast id="connectionErrorToast" duration="0">
                        <paper-button onclick="connectionErrorToast.close()" class="yellow-button">Yes!</paper-button>
                    </paper-toast>
                </article>
            </section>

            <section id="add" ng-show="listPageCtrl.isAdding">
                <location-add></location-add>
            </section>

            <section id="actions">
                <paper-fab icon="add" ng-click="listPageCtrl.setIsAdding(true);"></paper-fab>
            </section>

		</google-map>


	</body>
</html>