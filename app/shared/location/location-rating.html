<link rel="import" href="../../bower_components/iron-form/iron-form.html"/>
<link rel="import" href="../../bower_components/paper-input/paper-input.html"/>
<link rel="import" href="../../bower_components/paper-button/paper-button.html"/>

<style is="rating-style">
    .addRatingForm {
        height: auto;
    }

</style>

<article class="cardItemContainer">
    <h1>Avg: {{averageRating(location.ratings)}}</h1>
    <article ng-repeat="rating in location.ratings track by $index">
        <blockquote> Stars: {{rating.value}} </blockquote>
        <p> - {{rating.user}} </p>
        <p> {{rating.comment !== 'Comment' ? rating.comment : ''}}</p>
    </article>

    <form id="{{location.name}}" class="addRatingForm" is="iron-form" name="ratingForm" method="post" action="test">
        <paper-input name="value" label="Rating" error-message="Need to provide a rating!" type="number" min="1" max="5"
                     placeholder="1-5" required autovalidate></paper-input>
        <paper-input name="user" label="User" error-message="Need to provide your name!"
                     required autovalidate></paper-input>
        <paper-input name="comment" label="Comment"
                     autovalidate></paper-input>
        <paper-button type="submit" ng-click="submitRatingForm();">Rate!</paper-button>
    </form>
</article>